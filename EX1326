//1.3.26 Modify Gambler to take an extra command-line argument that
// specifies
//        the number of bets the gambler is willing to make, so that
//        there are three possible
//        ways for the game to end: the gambler wins, loses, or runs
//        out of time. Add to the
//        output to give the expected amount of money the gambler
//        will have when the game
//        ends. Extra credit : Use your program to plan your next
//        trip to Monte Carlo.

public class EX1326 {
    public static void main(String[] args) { // Run trials experiments that start with
// $stake and terminate on $0 or $goal.
        int stake = 10;//Integer.parseInt(args[0]);
        int goal = 15;//Integer.parseInt(args[1]);
        int trials = 100;//Integer.parseInt(args[2]);
        int betsWillingToMake = 555;
        int bets = 0;
        int wins = 0;
        
        for (int t = 0; t < trials; t++) { // Run one experiment.
            int cash = stake;
            while (cash > 0 && cash < goal && bets < betsWillingToMake) { // Simulate one bet.
                bets++;
                if (Math.random() < 0.5) cash++;
                else cash--;
            }
            // when we get here, 3 possi
            // 1. Cash 0 (ruin) 2. cash = $goal (win) 3.
            if (cash == goal) wins++;
            else if (cash == 0)
                System.out.println("Cash 0,ruined");
            else {// bets == betsWillingToMake
                System.out.println("expected money when the game ends: " + cash);
            }
        }
        System.out.println(100.0 * wins / trials + "% wins");
        System.out.println("Avg # bets: " + 1.0*bets / trials);
    }
}
