//1.3.25 Modify Gambler to take an extra command-line
// argument that specifies
//        the (fixed) probability that the gambler wins each bet.
//        Use your program to try to
//        learn how this probability affects the chance of winning
//        and the expected number
//        of bets. Try a value of p close to 0.5 (say, 0.48).

public class EX1325 {

    public static void main(String[] args) { // Run trials experiments that start with
// $stake and terminate on $0 or $goal.
        int stake = 10;//Integer.parseInt(args[0]);
        int goal = 15;//Integer.parseInt(args[1]);
        int trials = 111;//Integer.parseInt(args[2]);
        
        // probability that the gambler wins each bet
        double probability = .38;
        int bets = 0;
        int wins = 0;
        for (int t = 0; t < trials; t++) {
            System.out.println("trial "+t);
            int cash = stake;
            while (cash > 0 && cash < goal) { // Simulate one bet.
                bets++;
                if (Math.random() < probability) cash++;
                else cash--;
                // show visually
                for (int i = 0; i < cash; i++) {
                    System.out.print("*");
                }
                System.out.println();
            } 
            // when we get here, Cash is either 0 (ruin) or $goal (win).
            if (cash == goal) wins++;
        }
        System.out.println(100.0 * wins / trials + "% wins");
        System.out.println("Avg # bets: " + 1.0*bets / trials);
    }
}
